
<style>
  input.ng-dirty.ng-invalid {border: 2px solid #ff0000}
  input.ng-dirty.ng-valid {border: 2px solid #6bc502}
</style>

<div class="card create">
  <div class="m-2">
  <h5> <i class="fa fa-user-plus" style="color: #006abc"></i> Add a new patient</h5>
  </div>
  <div class="cardbody ml-3 mr-3">
    <div class="form1">
      <form novalidate #form="ngForm" (ngSubmit)="submitForm(form)">
        <div class="bg-danger p-a-1 mb-1"
             *ngIf="formSubmitted && form.invalid">
          There are problems with the form
        </div>
        <div class="form-group">
          <label>First Name</label>
          <input class="form-control" [(ngModel)]="newPatient.firstName" name="fname"
                 #fname="ngModel" required />
          <ul class="text-danger list-unstyled" *ngIf="(formSubmitted || fname.dirty) && fname.invalid">
            <li *ngFor="let error of getValidationMessages(fname)">
              {{error}}
            </li>
          </ul>
        </div>

        <div class="form-group">
          <label>Last Name</label>
          <input class="form-control" [(ngModel)]="newPatient.lastName" name="lname"
                 #lname="ngModel" required />
        </div>
        <ul class="text-danger list-unstyled" *ngIf="(formSubmitted || lname.dirty) && lname.invalid">
          <li *ngFor="let error of getValidationMessages(lname)">
            {{error}}
          </li>
        </ul>

        <div class="form-group">
          <label>Middle Name</label>
          <input class="form-control" [(ngModel)]="newPatient.middleName" name="mname" 
                 #mname="ngModel" required />
        </div>
        <ul class="text-danger list-unstyled" *ngIf="(formSubmitted || mname.dirty) && mname.invalid">
          <li *ngFor="let error of getValidationMessages(mname)">
            {{error}}
          </li>
        </ul>

        <div class="form-group">
          <label>DOB</label>
          <input type="date" class="form-control" [ngModel]="newPatient.dob" (ngModelChange)="newPatient.dob = $event" name="dob"
                 #dob="ngModel" required />
        </div>
        <ul class="text-danger list-unstyled" *ngIf="(formSubmitted || dob.dirty) && dob.invalid">
          <li *ngFor="let error of getValidationMessages(dob)">
            {{error}}
          </li>
        </ul>

        <div class="form-group">
          <label>Gender</label>
          <select class="form-control" [(ngModel)]="newPatient.gender" name="gender"
                  #gender="ngModel" required>
            <option>Male</option>
            <option>Female</option>
          </select>
        </div>

        <div class="form-group">
          <label>Place of Birth</label>
          <input class="form-control" [(ngModel)]="newPatient.placeOfBirth" name="pob"
                 #pob="ngModel" required />
        </div>
        <ul class="text-danger list-unstyled" *ngIf="(formSubmitted || pob.dirty) && pob.invalid">
          <li *ngFor="let error of getValidationMessages(pob)">
            {{error}}
          </li>
        </ul>

        <div class="form-group">
          <label>Sublocation</label>
          <input class="form-control" [(ngModel)]="newPatient.sublocation" name="sublocation" 
                 #sublocation="ngModel" required />
        </div>
        <ul class="text-danger list-unstyled" *ngIf="(formSubmitted || sublocation.dirty) && sublocation.invalid">
          <li *ngFor="let error of getValidationMessages(sublocation)">
            {{error}}
          </li>
        </ul>

        <div class="form-group">
          <label>Phone</label>
          <input class="form-control" [(ngModel)]="newPatient.phone" name="phone"
                 #phone="ngModel" />
        </div>
        <ul class="text-danger list-unstyled" *ngIf="(formSubmitted || phone.dirty) && phone.invalid">
          <li *ngFor="let error of getValidationMessages(phone)">
            {{error}}
          </li>
        </ul>

        <div class="form-group">
          <label>Email</label>
          <input class="form-control" [(ngModel)]="newPatient.email" name="email"
                 #email="ngModel" />
        </div>
        <ul class="text-danger list-unstyled" *ngIf="(formSubmitted || email.dirty) && email.invalid">
          <li *ngFor="let error of getValidationMessages(email)">
            {{error}}
          </li>
        </ul>

        <div class="form-group">
          <label>ID Number</label>
          <input class="form-control" [(ngModel)]="newPatient.idNumber" name="idNumber"
                 #idNumber="ngModel" />
        </div>
        <ul class="text-danger list-unstyled" *ngIf="(formSubmitted || idNumber.dirty) && idNumber.invalid">
          <li *ngFor="let error of getValidationMessages(idNumber)">
            {{error}}
          </li>
        </ul>

        <div class="mb-2 row justify-content-center align-items-center">
          <button type="submit" class="btn btn-primary">Submit</button>
        </div>

      </form>
      <!--<button routerLink="/table" class="btn btn-primary">Cancel</button>-->
    </div>
  </div>
</div>
<style>
  .create{
    margin: auto;
  }
  .faUser{
    color: dodgerblue;
  }

</style>