
<style>
  input.ng-dirty.ng-invalid {
    border: 2px solid #ff0000
  }

  input.ng-dirty.ng-valid {
    border: 2px solid #6bc502
  }
</style>

<div class="card create">
  <div class="card-body btn btn-info mb-3">
    <i class="fa fa-edit"></i> Edit patient
  </div>
  <div class="cardbody ml-3 mr-3">
    <div class="form1">
      <form novalidate #form="ngForm" (ngSubmit)="submitForm(form)">
        <div class="bg-danger p-a-1 mb-1"
             *ngIf="formSubmitted && form.invalid">
          There are problems with the form
        </div>
        <div class="form-group">
          <label>First Name</label>
          <input class="form-control" [(ngModel)]="patient.firstName" name="fname"
                 #fname="ngModel" required />
          <ul class="text-danger list-unstyled" *ngIf="(formSubmitted || fname.dirty) && fname.invalid">
            <li *ngFor="let error of getValidationMessages(fname)">
              {{error}}
            </li>
          </ul>
        </div>

        <div class="form-group">
          <label>Last Name</label>
          <input class="form-control" [(ngModel)]="patient.lastName" name="lname"
                 #lname="ngModel" required />
        </div>
        <ul class="text-danger list-unstyled" *ngIf="(formSubmitted || lname.dirty) && lname.invalid">
          <li *ngFor="let error of getValidationMessages(lname)">
            {{error}}
          </li>
        </ul>

        <div class="form-group">
          <label>Middle Name</label>
          <input class="form-control" [(ngModel)]="patient.middleName" name="mname"
                 #mname="ngModel" />
        </div>
        <ul class="text-danger list-unstyled" *ngIf="(formSubmitted || mname.dirty) && mname.invalid">
          <li *ngFor="let error of getValidationMessages(mname)">
            {{error}}
          </li>
        </ul>

        <div class="form-group">
          <label>DOB</label>
          <input class="form-control" [ngModel]="patient.dob | date:'yyyy-MM-dd'" (ngModelChange)="patient.dob = $event" type="date"  name="dob"
                 #dob="ngModel" required />
        </div>
        <ul class="text-danger list-unstyled" *ngIf="(formSubmitted || dob.dirty) && dob.invalid">
          <li *ngFor="let error of getValidationMessages(dob)">
            {{error}}
          </li>
        </ul>

        <div class="form-group">
          <label>Place of Birth</label>
          <input class="form-control" [(ngModel)]="patient.placeOfBirth" name="pob"
                 #pob="ngModel" required />
        </div>
        <ul class="text-danger list-unstyled" *ngIf="(formSubmitted || pob.dirty) && pob.invalid">
          <li *ngFor="let error of getValidationMessages(pob)">
            {{error}}
          </li>
        </ul>

        <div class="form-group">
          <label>Gender</label>
          <select class="form-control" [(ngModel)]="patient.gender" name="gender"
                  #gender="ngModel" required>
            <option>Male</option>
            <option>Female</option>
          </select>
        </div>

        <div class="form-group">
          <label>Sublocation</label>
          <input class="form-control" [(ngModel)]="patient.sublocation" name="sublocation"
                 #sublocation="ngModel" required />
        </div>
        <ul class="text-danger list-unstyled" *ngIf="(formSubmitted || sublocation.dirty) && sublocation.invalid">
          <li *ngFor="let error of getValidationMessages(sublocation)">
            {{error}}
          </li>
        </ul>

        <div class="form-group">
          <label>Phone</label>
          <input class="form-control" [(ngModel)]="patient.phone" name="phone"
                 #phone="ngModel" />
        </div>
        <ul class="text-danger list-unstyled" *ngIf="(formSubmitted || phone.dirty) && phone.invalid">
          <li *ngFor="let error of getValidationMessages(phone)">
            {{error}}
          </li>
        </ul>

        <div class="form-group">
          <label>Email</label>
          <input class="form-control" [(ngModel)]="patient.email" name="email"
                 #email="ngModel" />
        </div>
        <ul class="text-danger list-unstyled" *ngIf="(formSubmitted || email.dirty) && email.invalid">
          <li *ngFor="let error of getValidationMessages(email)">
            {{error}}
          </li>
        </ul>

        <div class="form-group">
          <label>ID Number</label>
          <input class="form-control" [(ngModel)]="patient.idNumber" name="idNumber"
                 #idNumber="ngModel" />
        </div>
        <ul class="text-danger list-unstyled" *ngIf="(formSubmitted || idNumber.dirty) && idNumber.invalid">
          <li *ngFor="let error of getValidationMessages(idNumber)">
            {{error}}
          </li>
        </ul>

        <div class="mb-2 row justify-content-center align-items-center">
          <button type="submit" class="btn btn-primary">Save</button>
        </div>
      </form>
      <a class="btn btn-primary mr-3" routerLink="/table">Back</a>
    </div>
  </div>
</div>
<style>
  .create {
    margin: auto;
  }
</style>

